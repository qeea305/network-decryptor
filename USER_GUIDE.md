# 📖 دليل المستخدم - أداة فك تشفير رسائل الشبكة

## 🚀 البدء السريع

### 1. التثبيت والإعداد

```bash
# تثبيت المكتبات المطلوبة
pip install -r requirements.txt

# تشغيل الأداة
python network_decryptor.py

# أو استخدام ملف التشغيل السريع (Windows)
run_decryptor.bat
```

### 2. الواجهة الرئيسية

عند تشغيل الأداة، ستظهر واجهة رسومية تحتوي على:

- **منطقة التحكم العلوية**: إعدادات التقاط الشبكة والأزرار
- **الجانب الأيسر**: قائمة الرسائل المُلتقطة
- **الجانب الأيمن**: منطقة فك التشفير والنتائج
- **شريط الحالة السفلي**: معلومات حالة التطبيق

## 🌐 التقاط الشبكة

### إعداد التقاط الشبكة

1. **واجهة الشبكة**: 
   - اتركها "any" لالتقاط من جميع الواجهات
   - أو حدد واجهة معينة (مثل "eth0" أو "wlan0")

2. **فلتر الحزم**:
   ```
   tcp or udp          # جميع حزم TCP و UDP
   tcp port 80         # HTTP فقط
   tcp port 443        # HTTPS فقط
   host 192.168.1.1    # IP محدد فقط
   port 21             # FTP فقط
   ```

### بدء التقاط الشبكة

1. اضغط زر "🚀 بدء التقاط"
2. ستبدأ الأداة في التقاط الحزم وعرضها في القائمة
3. لإيقاف التقاط، اضغط "⏹️ إيقاف التقاط"

### معلومات الحزم المعروضة

كل حزمة تظهر بالتنسيق التالي:
```
[الوقت] IP_المصدر → IP_الوجهة (البروتوكول)
```

مثال:
```
[14:30:25] 192.168.1.100 → 192.168.1.1 (TCP)
```

## 🔓 فك التشفير

### اختيار رسالة للفك

1. اختر رسالة من القائمة اليسرى
2. ستظهر البيانات الأصلية في المنطقة العلوية اليمنى

### أنواع التشفير المدعومة

#### 1. الفك التلقائي (Auto)
- يجرب جميع الطرق المتاحة تلقائياً
- يعرض أفضل النتائج مع نتيجة الجودة
- الخيار الأفضل للمبتدئين

#### 2. Base64
- فك ترميز Base64 الأساسي
- لا يحتاج مفتاح
- مثال: `SGVsbG8gV29ybGQ=` → `Hello World`

#### 3. Caesar Cipher
- تشفير قيصر التقليدي
- يمكن تحديد الإزاحة أو تركها فارغة للكسر التلقائي
- مثال: `Khoor Zruog` (إزاحة 3) → `Hello World`

#### 4. ROT13
- حالة خاصة من تشفير قيصر (إزاحة 13)
- لا يحتاج مفتاح
- مثال: `Uryyb Jbeyq` → `Hello World`

#### 5. Hex
- فك ترميز سادس عشري
- لا يحتاج مفتاح
- مثال: `48656c6c6f20576f726c64` → `Hello World`

#### 6. URL Encoding
- فك ترميز URL
- لا يحتاج مفتاح
- مثال: `Hello%20World` → `Hello World`

#### 7. AES
- تشفير AES متقدم
- **يحتاج مفتاح**
- البيانات يجب أن تكون مرمزة بـ Base64

#### 8. Custom (مخصص)
- تشفير XOR بسيط
- يمكن تحديد مفتاح أو تركه للقيمة الافتراضية

### استخدام المفاتيح

- أدخل المفتاح في حقل "المفتاح" عند الحاجة
- للتشفير الحساس، سيتم إخفاء المفتاح (*)
- اتركه فارغاً للطرق التي لا تحتاج مفتاح

### فك التشفير

1. اختر نوع التشفير من القائمة المنسدلة
2. أدخل المفتاح إذا كان مطلوباً
3. اضغط "🔓 فك التشفير"
4. ستظهر النتيجة في المنطقة السفلية

## 💾 إدارة الجلسات

### حفظ الجلسة

1. اضغط زر "💾 حفظ الجلسة"
2. أدخل اسماً للجلسة
3. سيتم حفظ جميع الرسائل المُلتقطة والإعدادات

### تحميل الجلسة

1. اضغط زر "📂 تحميل الجلسة"
2. اختر الجلسة المطلوبة من القائمة
3. اضغط "تحميل"

### معلومات الجلسة المحفوظة

- **الاسم**: اسم الجلسة
- **التاريخ**: وقت الحفظ
- **الحجم**: حجم الملف بالبايت
- **عدد الحزم**: إجمالي الحزم المحفوظة

## 📤 تصدير البيانات

### أنواع التصدير المدعومة

1. **JSON**: للمطورين والتحليل المتقدم
2. **CSV**: لجداول البيانات (Excel, LibreOffice)
3. **HTML**: تقرير قابل للعرض في المتصفح
4. **XML**: للتكامل مع أنظمة أخرى
5. **TXT**: تقرير نصي بسيط

### خطوات التصدير

1. اضغط زر "📤 تصدير"
2. اختر نوع التصدير المطلوب
3. اضغط "تصدير"
4. حدد مكان الحفظ واسم الملف

## 🔧 الإعدادات المتقدمة

### ملف الإعدادات (config.json)

يمكن تخصيص الأداة عبر تعديل ملف `config.json`:

```json
{
    "network_settings": {
        "default_interface": "any",
        "default_filter": "tcp or udp",
        "max_packets": 1000
    },
    "decryption_settings": {
        "auto_detect": true,
        "common_keys": ["password", "123456", "admin"]
    }
}
```

### فلاتر الشبكة المتقدمة

```bash
# أمثلة على الفلاتر
tcp and port 80                    # HTTP فقط
udp and port 53                    # DNS فقط
host 192.168.1.1 and port 22       # SSH لخادم محدد
src host 192.168.1.100              # من IP محدد
dst port 443                       # إلى HTTPS
tcp[tcpflags] & tcp-syn != 0        # حزم SYN فقط
```

## 🛡️ الأمان والخصوصية

### تحذيرات مهمة

⚠️ **استخدم هذه الأداة فقط على الشبكات التي تملكها أو لديك إذن لاختبارها**

⚠️ **لا تستخدمها لأغراض غير قانونية**

⚠️ **احترم خصوصية الآخرين وقوانين بلدك**

### أفضل الممارسات

✅ **شغل الأداة في بيئة معزولة للاختبار**

✅ **احفظ النتائج في مكان آمن**

✅ **لا تشارك المفاتيح أو البيانات الحساسة**

✅ **احذف البيانات الحساسة بعد الانتهاء**

## 🐛 استكشاف الأخطاء

### مشاكل شائعة وحلولها

#### "مكتبة scapy غير مثبتة"
```bash
pip install scapy
```

#### "Permission denied" في Linux/macOS
```bash
sudo python3 network_decryptor.py
```

#### لا تظهر حزم في التقاط الشبكة
- تأكد من تشغيل البرنامج بصلاحيات المدير
- جرب واجهة شبكة مختلفة
- تأكد من وجود حركة شبكة فعلية

#### خطأ في فك التشفير
- تأكد من صحة المفتاح
- جرب نوع تشفير مختلف
- استخدم الفك التلقائي

#### الواجهة لا تستجيب
- أغلق البرنامج وأعد تشغيله
- تأكد من عدم وجود عمليات التقاط أخرى

## 📊 فهم النتائج

### نتيجة الجودة

عند استخدام الفك التلقائي، تظهر نتيجة جودة لكل طريقة:

- **90-100**: نتيجة ممتازة، النص واضح ومفهوم
- **70-89**: نتيجة جيدة، النص مقروء مع بعض الأخطاء
- **50-69**: نتيجة متوسطة، قد يكون النص صحيحاً
- **أقل من 50**: نتيجة ضعيفة، غالباً غير صحيح

### تفسير النتائج

```
النتائج المحتملة:
==================================================

[BASE64]
Hello World! This is a secret message.

------------------------------

[CAESAR_SHIFT_3]
Ebiil Tloia! Qefp fp x pbzobq jbppxdb.

------------------------------
```

- النتيجة الأولى (Base64) هي الأكثر احتمالاً للصحة
- النتائج مرتبة حسب نتيجة الجودة

## 🔍 ميزات متقدمة

### تحليل البروتوكولات

الأداة تحلل تلقائياً:
- **HTTP**: الطلبات والردود
- **FTP**: أوامر نقل الملفات
- **SMTP**: رسائل البريد الإلكتروني
- **DNS**: استعلامات أسماء النطاقات

### كشف الأنماط المشبوهة

- كلمات المرور في النص الواضح
- عناوين IP خاصة
- أوامر النظام المحتملة
- بيانات اعتماد مكشوفة

### الإحصائيات

- إجمالي الحزم المُلتقطة
- توزيع البروتوكولات
- أكثر عناوين IP نشاطاً
- الحزم المشبوهة والمشفرة

## 📞 الدعم والمساعدة

### الحصول على المساعدة

1. راجع هذا الدليل أولاً
2. تحقق من قسم استكشاف الأخطاء
3. تأكد من تثبيت جميع المتطلبات
4. جرب الأمثلة المرفقة

### الإبلاغ عن المشاكل

عند الإبلاغ عن مشكلة، يرجى تضمين:
- نظام التشغيل المستخدم
- إصدار Python
- رسالة الخطأ الكاملة
- خطوات إعادة إنتاج المشكلة

---

**تذكر**: هذه الأداة مخصصة للأغراض التعليمية والبحثية فقط. استخدمها بمسؤولية! 🔐✨